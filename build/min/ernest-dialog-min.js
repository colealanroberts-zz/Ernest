function destroyDialog(){var e=document.querySelector(".ernest-dialog");e.parentNode.removeChild(e)}function createDialog(e){function t(){var e=new XMLHttpRequest;e.open("GET","someurl",!0),e.onload=function(){e.status>=200&&e.status<400&&(n.innerHTML=e.responseText)}}var n=document.querySelector(".ernest-dialog"),o=e;for(var r in o)if(o.hasOwnProperty(r)){var e=o[r];for(var a in e)if(e.hasOwnProperty(a))var i=a+" = "+e[a]}if(null!==n)n.innerHTML=i;else{var n=document.createElement("div");document.body.appendChild(n),n.classList.add("ernest-dialog"),n.innerHTML=i;var d=document.createElement("button");d.classList.add("ernest__close-btn"),d.innerHTML="x",document.body.appendChild(d),d.addEventListener("click",function(e){e.preventDefault(),destroyDialog(),setTimeout(function(){d.parentNode.removeChild(d)},0)})}}chrome.runtime.onMessage.addListener(function(e,t,n){"createDialog"==e.text&&(createDialog(e.data),n({type:"test"}))});